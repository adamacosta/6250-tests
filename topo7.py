# multi loop topology
#  --ABB--ABC        BBA--BBB--
# |   |    |          |    |   |
# |  ABA--AB--AC  BA--BB--BBC  |
# |  |     |   |  |   |     |  |
#  --|-    AA--A--B--BC    -|--
#    | |       |  |       | |
#  --  |   DC--D--C--CA   |  --
# |    |   |   |  |   |   |    |
# |  DBC--DB--DA  CC--CB--CBA  |
# |   |    |          |    |   |
#  --DBB--DBA        CBC--CBB--



topo = {'A' : ['B', 'D', 'AA', 'AC'],
        'B' : ['A', 'C', 'BA', 'BC'],
        'C' : ['B', 'D', 'CA', 'CC'],
        'D' : ['A', 'C', 'DA', 'DC'],
        'AA' : ['A', 'AB'],
        'AB' : ['AA', 'AC', 'ABA', 'ABC'],
        'AC' : ['A', 'AB'],
        'ABA' : ['AB', 'ABB', 'DBB'],
        'ABB' : ['ABA', 'ABC', 'DBC'],
        'ABC' : ['AB', 'ABB'],
        'BA' : ['B', 'BB'],
        'BB' : ['BA', 'BC', 'BBA', 'BBC'],
        'BC' : ['B', 'BB'],
        'BBA' : ['BB', 'BBB'],
        'BBB' : ['BBA', 'BBC', 'CBA'],
        'BBC' : ['BB', 'BBB', 'CBB'],
        'CA' : ['C', 'CB'],
        'CB' : ['CA', 'CC', 'CBA', 'CBC'],
        'CC' : ['C', 'CB'],
        'CBA' : ['CB', 'CBB', 'BBB'],
        'CBB' : ['CBA', 'CBC', 'BBC'],
        'CBC' : ['CB', 'CBB'],
        'DA' : ['D', 'DB'],
        'DB' : ['DA', 'DC', 'DBA', 'DBC'],
        'DC' : ['D', 'DB'],
        'DBA' : ['DB', 'DBB'],
        'DBB' : ['DBA', 'DBC', 'ABA'],
        'DBC' : ['DB', 'DBB', 'ABB'] }

ans = \
'A:A0,AA1,AB2,ABA3,ABB4,ABC3,AC1,B1,BA2,BB3,BBA4,BBB5,BBC4,BC2,C2,CA3,CB4,CBA5,CBB5,CBC5,CC3,D1,DA2,DB3,DBA4,DBB4,DBC4,DC2' + \
'AA:A1,AA0,AB1,ABA2,ABB3,ABC2,AC2,B2,BA3,BB4,BBA5,BBB6,BBC5,BC3,C3,CA4,CB5,CBA6,CBB6,CBC6,CC4,D2,DA3,DB4,DBA4,DBB3,DBC4,DC3' + \
'AB:A2,AA1,AB0,ABA1,ABB2,ABC1,AC1,B3,BA4,BB5,BBA6,BBB7,BBC6,BC4,C4,CA5,CB6,CBA7,CBB7,CBC7,CC5,D3,DA4,DB4,DBA3,DBB2,DBC3,DC4' + \
'ABA:A3,AA2,AB1,ABA0,ABB1,ABC2,AC2,B4,BA5,BB6,BBA7,BBB8,BBC7,BC5,C5,CA6,CB7,CBA8,CBB8,CBC8,CC6,D4,DA4,DB3,DBA2,DBB1,DBC2,DC4' + \
'ABB:A4,AA3,AB2,ABA1,ABB0,ABC1,AC3,B5,BA6,BB7,BBA8,BBB9,BBC8,BC6,C5,CA6,CB7,CBA8,CBB9,CBC8,CC6,D4,DA3,DB2,DBA3,DBB2,DBC1,DC3' + \
'ABC:A3,AA2,AB1,ABA2,ABB1,ABC0,AC2,B4,BA5,BB6,BBA7,BBB8,BBC7,BC5,C5,CA6,CB7,CBA8,CBB8,CBC8,CC6,D4,DA4,DB3,DBA4,DBB3,DBC2,DC4' + \
'AC:A1,AA2,AB1,ABA2,ABB3,ABC2,AC0,B2,BA3,BB4,BBA5,BBB6,BBC5,BC3,C3,CA4,CB5,CBA6,CBB6,CBC6,CC4,D2,DA3,DB4,DBA4,DBB3,DBC4,DC3' + \
'B:A1,AA2,AB3,ABA4,ABB5,ABC4,AC2,B0,BA1,BB2,BBA3,BBB4,BBC3,BC1,C1,CA2,CB3,CBA4,CBB4,CBC4,CC2,D2,DA3,DB4,DBA5,DBB5,DBC5,DC3' + \
'BA:A2,AA3,AB4,ABA5,ABB6,ABC5,AC3,B1,BA0,BB1,BBA2,BBB3,BBC2,BC2,C2,CA3,CB4,CBA4,CBB3,CBC4,CC3,D3,DA4,DB5,DBA6,DBB6,DBC6,DC4' + \
'BB:A3,AA4,AB5,ABA6,ABB7,ABC6,AC4,B2,BA1,BB0,BBA1,BBB2,BBC1,BC1,C3,CA4,CB4,CBA3,CBB2,CBC3,CC4,D4,DA5,DB6,DBA7,DBB7,DBC7,DC5' + \
'BBA:A4,AA5,AB6,ABA7,ABB8,ABC7,AC5,B3,BA2,BB1,BBA0,BBB1,BBC2,BC2,C4,CA4,CB3,CBA2,CBB3,CBC4,CC4,D5,DA6,DB7,DBA8,DBB8,DBC8,DC6' + \
'BBB:A5,AA6,AB7,ABA8,ABB9,ABC8,AC6,B4,BA3,BB2,BBA1,BBB0,BBC1,BC3,C4,CA3,CB2,CBA1,CBB2,CBC3,CC3,D5,DA6,DB7,DBA8,DBB9,DBC8,DC6' + \
'BBC:A4,AA5,AB6,ABA7,ABB8,ABC7,AC5,B3,BA2,BB1,BBA2,BBB1,BBC0,BC2,C4,CA4,CB3,CBA2,CBB1,CBC2,CC4,D5,DA6,DB7,DBA8,DBB8,DBC8,DC6' + \
'BC:A2,AA3,AB4,ABA5,ABB6,ABC5,AC3,B1,BA2,BB1,BBA2,BBB3,BBC2,BC0,C2,CA3,CB4,CBA4,CBB3,CBC4,CC3,D3,DA4,DB5,DBA6,DBB6,DBC6,DC4' + \
'C:A2,AA3,AB4,ABA5,ABB5,ABC5,AC3,B1,BA2,BB3,BBA4,BBB4,BBC4,BC2,C0,CA1,CB2,CBA3,CBB4,CBC3,CC1,D1,DA2,DB3,DBA4,DBB5,DBC4,DC2' + \
'CA:A3,AA4,AB5,ABA6,ABB6,ABC6,AC4,B2,BA3,BB4,BBA4,BBB3,BBC4,BC3,C1,CA0,CB1,CBA2,CBB3,CBC2,CC2,D2,DA3,DB4,DBA5,DBB6,DBC5,DC3' + \
'CB:A4,AA5,AB6,ABA7,ABB7,ABC7,AC5,B3,BA4,BB4,BBA3,BBB2,BBC3,BC4,C2,CA1,CB0,CBA1,CBB2,CBC1,CC1,D3,DA4,DB5,DBA6,DBB7,DBC6,DC4' + \
'CBA:A5,AA6,AB7,ABA8,ABB8,ABC8,AC6,B4,BA4,BB3,BBA2,BBB1,BBC2,BC4,C3,CA2,CB1,CBA0,CBB1,CBC2,CC2,D4,DA5,DB6,DBA7,DBB8,DBC7,DC5' + \
'CBB:A5,AA6,AB7,ABA8,ABB9,ABC8,AC6,B4,BA3,BB2,BBA3,BBB2,BBC1,BC3,C4,CA3,CB2,CBA1,CBB0,CBC1,CC3,D5,DA6,DB7,DBA8,DBB9,DBC8,DC6' + \
'CBC:A5,AA6,AB7,ABA8,ABB8,ABC8,AC6,B4,BA4,BB3,BBA4,BBB3,BBC2,BC4,C3,CA2,CB1,CBA2,CBB1,CBC0,CC2,D4,DA5,DB6,DBA7,DBB8,DBC7,DC5' + \
'CC:A3,AA4,AB5,ABA6,ABB6,ABC6,AC4,B2,BA3,BB4,BBA4,BBB3,BBC4,BC3,C1,CA2,CB1,CBA2,CBB3,CBC2,CC0,D2,DA3,DB4,DBA5,DBB6,DBC5,DC3' + \
'D:A1,AA2,AB3,ABA4,ABB4,ABC4,AC2,B2,BA3,BB4,BBA5,BBB5,BBC5,BC3,C1,CA2,CB3,CBA4,CBB5,CBC4,CC2,D0,DA1,DB2,DBA3,DBB4,DBC3,DC1' + \
'DA:A2,AA3,AB4,ABA4,ABB3,ABC4,AC3,B3,BA4,BB5,BBA6,BBB6,BBC6,BC4,C2,CA3,CB4,CBA5,CBB6,CBC5,CC3,D1,DA0,DB1,DBA2,DBB3,DBC2,DC2' + \
'DB:A3,AA4,AB4,ABA3,ABB2,ABC3,AC4,B4,BA5,BB6,BBA7,BBB7,BBC7,BC5,C3,CA4,CB5,CBA6,CBB7,CBC6,CC4,D2,DA1,DB0,DBA1,DBB2,DBC1,DC1' + \
'DBA:A4,AA4,AB3,ABA2,ABB3,ABC4,AC4,B5,BA6,BB7,BBA8,BBB8,BBC8,BC6,C4,CA5,CB6,CBA7,CBB8,CBC7,CC5,D3,DA2,DB1,DBA0,DBB1,DBC2,DC2' + \
'DBB:A4,AA3,AB2,ABA1,ABB2,ABC3,AC3,B5,BA6,BB7,BBA8,BBB9,BBC8,BC6,C5,CA6,CB7,CBA8,CBB9,CBC8,CC6,D4,DA3,DB2,DBA1,DBB0,DBC1,DC3' + \
'DBC:A4,AA4,AB3,ABA2,ABB1,ABC2,AC4,B5,BA6,BB7,BBA8,BBB8,BBC8,BC6,C4,CA5,CB6,CBA7,CBB8,CBC7,CC5,D3,DA2,DB1,DBA2,DBB1,DBC0,DC2' + \
'DC:A2,AA3,AB4,ABA4,ABB3,ABC4,AC3,B3,BA4,BB5,BBA6,BBB6,BBC6,BC4,C2,CA3,CB4,CBA5,CBB6,CBC5,CC3,D1,DA2,DB1,DBA2,DBB3,DBC2,DC0'